<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCAM TAXI</title>
    <link rel="shortcut icon" href="ChatGPT Image 13 maj 2025, 08_58_25 (1).png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main>
         <nav class="menu-container">

        <input type="checkbox" aria-label="Toggle menu" />
        <span></span>
        <span></span>
        <span></span>

        <a href="#" class="menu-logo">
          <img src="https://wweb.dev/resources/navigation-generator/logo-placeholder.png" alt=""/>
        </a>
      
        <div class="menu">
          <ul>
          </ul>
          <ul>
            <li>
              <a href="#">
                Strona Główna 
              </a>
            </li>
            <li>
              <a href="#">
                O nas
              </a>
            </li>
            <li>
              <a href="#">
                Kontakt
              </a>
            </li>
          </ul>
        </div>
      </nav>

        <div class="pojemnik">
            <div class="lewo">
                <div class="header">
                    <h1>Taksówkarze w Województwie Zachodnio-pomorskim</h1>
                </div>
                <div class="lista" id="lista">

                </div>
            </div>
            <div class="prawo">
                <div class="taxiInfo" id="taxiInfo">

                </div>
            </div>
        </div>
<div id="addTaxiButton" onclick="togglePopup()">+</div>


<div id="taxiPopup">
  <div class="popup-content">
    <h2>Dodaj taksówkarza</h2>
    <input type="text" id="driverName" placeholder="Imię i nazwisko">
    <input type="number" id="driverAge" placeholder="Wiek">
    <input type="text" id="driverCity" placeholder="Miasto">
    <input type="text" id="driverCarModel" placeholder="Model samochodu">
    <textarea id="driverCarDesc" placeholder="Opis samochodu"></textarea>
    <input type="file" id="fileInput" accept="image/png, image/jpeg" />
    <input type="file" id="fileInput2" accept="image/png, image/jpeg" />
    <button onclick="addDriver()">Dodaj</button>
  </div>
</div>
 <div id="button" onclick="popup()">+</div>   
    </main>
    <script>
        const taksowkarze = [
            {
                imie: "George",
                nazwisko: "Floyd",
                wiek: 45,
                miasto: "Szczecin",
                dostepny: true,
                profilowe: "GeorgeFloyd.png",
                samochod: {
                    model: "Pojazd policyjny",
                    zdjecie: "images.jpg",
                    opis: "Nie mogę oddychać"
                }
            },
            {
                imie: "Gorlock",
                nazwisko: "The destroyer",
                wiek: 18,
                miasto: "Koszalin",
                dostepny: false,
                profilowe: "gorlock.jpg",
                samochod: {
                    model: "Maluch",
                    zdjecie: "maluch.jpg",
                    opis: "Troche mały samochód dla nas dwóch , ale jakoś się zmieścimy."
                }
            },
            {
                imie: "Moe",
                nazwisko: "Lester",
                wiek: 75,
                miasto: "Koszalin",
                dostepny: true,
                profilowe: "molester.jpg",
                samochod: {
                    model: "Ford Mondeo",
                    zdjecie: "gruhot.png",
                    opis: "Jazda z nim to GWAŁTowna przygoda!"
                }
            },

            {
                imie: "IShow",
                nazwisko: "Speed",
                wiek: 20,
                miasto: "Ohio",
                dostepny: true,
                profilowe: "ishow.jpg",
                samochod: {
                    model: "Multipla",
                    zdjecie: "multipla.jpg",
                    opis: "Ronaldo is fucking the best"
                }
            },

            {
                imie: "Wojciech",
                nazwisko: "Cejrowski",
                wiek: 60,
                miasto: "Koszalin",
                dostepny: true,
                profilowe: "images.jfif",
                samochod: {
                    model: "Bez auta",
                    zdjecie: "images (1).jfif",
                    opis: "Boso przez Świat"
                }
            },

            {
                imie: "Osama",
                nazwisko: "Billaden",
                wiek: 75,
                miasto: "Koszalin",
                dostepny: false,
                profilowe: "osama.jpg",
                samochod: {
                    model: "Boeing 767",
                    zdjecie: "boeing.jpg",
                    opis: "Wybuchowa przygoda!"
                }
            },

            {
                imie: "Wojciech",
                nazwisko: "Sczęsny",
                wiek: 35,
                miasto: "Koszalin",
                dostepny: true,
                profilowe: "szczesny.webp",
                samochod: {
                    model: "Bus kadrowy",
                    zdjecie: "bus.jpg",
                    opis: "z nim możesz się czuć bezpiecznie"
                }
            },

            {
                imie: "Tung tung tung ",
                nazwisko: "Sahur",
                wiek: 195,
                miasto: "Koszalin",
                dostepny: false,
                profilowe: "tung.jpg",
                samochod: {
                    model: "Tralalero tralala",
                    zdjecie: "tralalero.jfif",
                    opis: "Tung tung tung Sahur"
                }
            },

            {
                imie: "Travis",
                nazwisko: "Sczot",
                wiek: 34,
                miasto: "Koszalin",
                dostepny: true,
                profilowe: "travis.jpg",
                samochod: {
                    model: "Bugatti Chiron",
                    zdjecie: "bugati.jpg",
                    opis: "Fin fin fin fin bratku"
                }
            },

            {
                imie: "Donald",
                nazwisko: "Trump",
                wiek: 75,
                miasto: "Koszalin",
                dostepny: false,
                profilowe: "trump.webp",
                samochod: {
                    model: "Roll's Royce",
                    zdjecie: "roll.jpg",
                    opis: "Wsiadaj albo nałoże ci taryfy"
                }
            },
        ];
let dishpic = document.getElementById("dish-pic");
let inputFile = document.getElementById("fileInput");

function togglePopup() {
  const popup = document.getElementById("taxiPopup");
  popup.style.display = popup.style.display === "block" ? "none" : "block";
}
inputFile.onchange = function () {
    dishpic.src = URL.createObjectURL(inputFile.files[0]);
}
        function wyswietlListe() {
            const lista = document.getElementById('lista');
            lista.innerHTML = '';
            taksowkarze.forEach((taxi, index) => {
                const element = document.createElement('div');
                element.classList.add('taksowkarz');
                element.innerHTML = `
        <img src="${taxi.profilowe}" alt="Profil ${taxi.imie}" width="50" height="50">
        <div>
          <strong>${taxi.imie} ${taxi.nazwisko}</strong><br>
          Wiek: ${taxi.wiek}<br>
          Miasto: ${taxi.miasto}
        </div>
        <div class="dioda" style="background-color: ${taxi.dostepny ? 'green' : 'red'};"></div>
      `;
                element.addEventListener('click', () => pokazInfo(index));
                lista.appendChild(element);
            });
        }

      function pokazInfo(index) {
  const taxi = taksowkarze[index];
  const info = document.getElementById('taxiInfo');

  info.innerHTML = `
    <h2>${taxi.imie} ${taxi.nazwisko}</h2>
    <img src="${taxi.samochod.zdjecie}" alt="${taxi.samochod.model}" width="200"><br>
    <p><strong>Samochód:</strong> ${taxi.samochod.model}</p>
    <p>${taxi.samochod.opis}</p>
    <button id="rezerwujBtn">Zarezerwuj</button>
    <p id="komunikat" style="margin-top: 10px; color: red;"></p>
  `;

  const przycisk = document.getElementById('rezerwujBtn');
  const komunikat = document.getElementById('komunikat');

  przycisk.addEventListener('click', () => {
    if (taxi.dostepny) {
      taxi.dostepny = false;
      komunikat.style.color = 'green';
      komunikat.textContent = "Taksówkarz został zarezerwowany!";
      wyswietlListe(); 
    } else {
      komunikat.style.color = 'red';
      komunikat.textContent = "Taksówkarz jest już zajęty!";
    }
  });
}



inputFile.onchange = function () {
  driverPic.src = URL.createObjectURL(inputFile.files[0]);
};

function popup() {
  document.getElementById("okienko").classList.toggle("active");
}

function addDriver() {
  let fullName = document.getElementById("driverName").value.trim();
  let age = parseInt(document.getElementById("driverAge").value);
  let city = document.getElementById("driverCity").value.trim();
  let model = document.getElementById("driverCarModel").value.trim();
  let desc = document.getElementById("driverCarDesc").value.trim();
  let file = document.getElementById("fileInput").files[0];
  let file2 = document.getElementById("fileInput2").files[0];

  if (!fullName || !age || !city || !model || !desc || !file) {
    alert("Wypełnij wszystkie pola i wybierz zdjęcie!");
    return;
  }

  let reader = new FileReader();
    let reader2 = new FileReader();

  reader.onload = function (e) {
    let newDriver = {
      imie: fullName.split(' ')[0] || "",
      nazwisko: fullName.split(' ')[1] || "",
      wiek: age,
      miasto: city,
      dostepny: true,
      profilowe: e.target.result,
      samochod: {
        model: model,
        zdjecie: e.target.result, 
        opis: desc
      }
    };

    taksowkarze.push(newDriver);
    wyswietlListe(); 
    popup();
  };

  reader.readAsDataURL(file);
    reader2.readAsDataURL(file2);
  togglePopup()
}


        wyswietlListe();
    </script>

</body>

</html>